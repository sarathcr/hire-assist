<div class="candidate-dashboard">
  <!-- Hero Section -->
  <div class="dashboard-hero">
    <div class="hero-background">
      <div class="hero-gradient"></div>
      <div class="hero-pattern"></div>
    </div>
    <div class="hero-content">
      <h1 class="hero-title">Welcome to Your Interview Dashboard</h1>
      <p class="hero-subtitle">
        Manage and track your interviews all in one place
      </p>
    </div>
  </div>

  <!-- Main Content -->
  <div class="dashboard-content">
    <!-- Active Tests Section -->
    <section class="assessment-section">
      <div class="section-header">
        <div class="section-header-content">
          <h2 class="section-title">
            <i class="pi pi-bolt section-icon"></i>
            Active Tests
          </h2>
          <p class="section-subtitle">
            Tests currently available for you to take
          </p>
        </div>
        @if (activeAssessments.length > 0) {
          <div class="section-badge">{{ activeAssessments.length }}</div>
        }
      </div>

      <div class="card-wrapper">
        @if (isLoading) {
          @for (skeleton of skeletonCards; track $index) {
            <app-card-skeleton></app-card-skeleton>
          }
        } @else {
          @for (assessment of activeAssessments; track assessment) {
            <app-card
              (startTest)="onAssessmentStart(assessment)"
              [statusId]="assessment.statusId"
              [isPreviousAssessment]="false"
              [startTime]="assessment.startTime"
              [endTime]="assessment.endTime"
              [interviewDate]="assessment.date"
              [buttonLabelFromBackend]="assessment.buttonLabel"
            >
              <p>
                <b> Open position : </b
                ><span>{{ assessment.assessmentName }}</span>
              </p>
              <p><b>Mode : </b><span>Online</span></p>
              <p>
                <b> No. of Questions : </b>
                <span>{{ assessment.totalQuestions }}</span>
              </p>
              <p>
                <b> Date : </b
                ><span>{{ assessment.date | date: "yyyy-MM-dd" }}</span>
              </p>
              <p>
                <b> Time : </b>
                <span
                  >{{ assessment.startTime | date: "hh:mm a" }} -
                  {{ assessment.endTime | date: "hh:mm a" }}</span
                >
              </p>
            </app-card>
          } @empty {
            <div class="empty-state">
              <div class="empty-state-icon">
                <i class="pi pi-inbox"></i>
              </div>
              <h3 class="empty-state-title">No Active Tests</h3>
              <p class="empty-state-message">
                You don't have any active assessments at the moment. Check back
                later for new opportunities.
              </p>
            </div>
          }
        }
      </div>
    </section>

    <!-- Previous Tests Section -->
    <section class="assessment-section">
      <div class="section-header">
        <div class="section-header-content">
          <h2 class="section-title">
            <i class="pi pi-history section-icon"></i>
            Previous Tests
          </h2>
          <p class="section-subtitle">Your completed and past assessments</p>
        </div>
        @if (previousAssessments.length > 0) {
          <div class="section-badge">{{ previousAssessments.length }}</div>
        }
      </div>

      <div class="card-wrapper">
        @if (isLoading) {
          @for (skeleton of skeletonCards; track $index) {
            <app-card-skeleton></app-card-skeleton>
          }
        } @else {
          @for (assessment of previousAssessments; track assessment) {
            <app-card
              (startTest)="onAssessmentStart(assessment)"
              [statusId]="assessment.statusId"
              [isPreviousAssessment]="true"
              [interviewDate]="assessment.date"
              [buttonLabelFromBackend]="assessment.buttonLabel"
            >
              <p>
                <b> Open position : </b
                ><span>{{ assessment.assessmentName }}</span>
              </p>
              <p><b>Mode : </b><span>Online</span></p>
              <p>
                <b> No. of Questions : </b>
                <span>{{ assessment.totalQuestions }}</span>
              </p>
              <p>
                <b> Date : </b
                ><span>{{ assessment.date | date: "yyyy-MM-dd" }}</span>
              </p>
              <p>
                <b> Time : </b>
                <span
                  >{{ assessment.startTime | date: "hh:mm aa" }} -
                  {{ assessment.endTime | date: "hh:mm aa" }}</span
                >
              </p>
            </app-card>
          } @empty {
            <div class="empty-state">
              <div class="empty-state-icon">
                <i class="pi pi-calendar-times"></i>
              </div>
              <h3 class="empty-state-title">No Previous Tests</h3>
              <p class="empty-state-message">
                You haven't completed any assessments yet. Once you take a test,
                it will appear here.
              </p>
            </div>
          }
        }
      </div>
    </section>
  </div>
</div>
