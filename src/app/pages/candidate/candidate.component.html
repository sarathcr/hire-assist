<div class="candidate-dashboard">
  <!-- Hero Section -->
  <header class="dashboard-hero">
    <div class="hero-background">
      <div class="hero-gradient"></div>
      <div class="hero-mesh"></div>
      <div class="hero-blob hero-blob--1"></div>
      <div class="hero-blob hero-blob--2"></div>
      <div class="hero-blob hero-blob--3"></div>
    </div>
    <div class="hero-content">
      <div class="hero-badge">
        <i class="pi pi-briefcase"></i>
        <span>Interview Hub</span>
      </div>
      <h1 class="hero-title">Welcome to Your Interview Dashboard</h1>
      <p class="hero-subtitle">
        Manage and track your interviews in one place. Start when youâ€™re ready.
      </p>
    </div>
  </header>

  <!-- Quick Stats -->
  <div class="dashboard-stats">
    <div class="stat-pill stat-pill--active">
      <i class="pi pi-bolt"></i>
      <span class="stat-pill__label">Active</span>
      <span class="stat-pill__value">{{ activeAssessments.length }}</span>
    </div>
    <div class="stat-pill stat-pill--previous">
      <i class="pi pi-history"></i>
      <span class="stat-pill__label">Completed</span>
      <span class="stat-pill__value">{{ previousAssessments.length }}</span>
    </div>
  </div>

  <!-- Main Content -->
  <main class="dashboard-content">
    <!-- Active Tests Section -->
    <section class="assessment-section">
      <div class="section-header">
        <div class="section-header-content">
          <div class="section-title-row">
            <span class="section-icon-wrap">
              <i class="pi pi-bolt section-icon"></i>
            </span>
            <div>
              <h2 class="section-title">Active Tests</h2>
              <p class="section-subtitle">
                Tests currently available for you to take
              </p>
            </div>
          </div>
        </div>
        @if (activeAssessments.length > 0) {
          <div class="section-badge">{{ activeAssessments.length }}</div>
        }
      </div>

      <div class="card-wrapper">
        @if (isLoading) {
          @for (skeleton of skeletonCards; track $index) {
            <app-card-skeleton></app-card-skeleton>
          }
        } @else {
          @for (assessment of activeAssessments; track assessment) {
            <app-card
              (startTest)="onAssessmentStart(assessment)"
              [statusId]="assessment.statusId"
              [isPreviousAssessment]="false"
              [startTime]="assessment.startTime"
              [endTime]="assessment.endTime"
              [interviewDate]="assessment.date"
              [isPresent]="assessment.isPresent"
              [buttonLabelFromBackend]="assessment.buttonLabel"
              [assessmentRound]="assessment.round"
            >
              <p>
                <b> Open position : </b
                ><span>{{ assessment.assessmentName }}</span>
              </p>
              <p><b>Mode : </b><span>Online</span></p>
              <p>
                <b> No. of Questions : </b>
                <span>{{ assessment.totalQuestions }}</span>
              </p>
              <p>
                <b> Scheduled Date : </b
                ><span>{{ getScheduledDate(assessment) }}</span>
              </p>
            </app-card>
          } @empty {
            <div class="empty-state empty-state--active">
              <div class="empty-state-icon">
                <i class="pi pi-inbox"></i>
              </div>
              <h3 class="empty-state-title">No Active Tests</h3>
              <p class="empty-state-message">
                You don't have any active assessments at the moment. Check back
                later for new opportunities.
              </p>
            </div>
          }
        }
      </div>
    </section>

    <!-- Previous Tests Section -->
    <section class="assessment-section">
      <div class="section-header">
        <div class="section-header-content">
          <div class="section-title-row">
            <span class="section-icon-wrap section-icon-wrap--muted">
              <i class="pi pi-history section-icon"></i>
            </span>
            <div>
              <h2 class="section-title">Previous Tests</h2>
              <p class="section-subtitle">
                Your completed and past assessments
              </p>
            </div>
          </div>
        </div>
        @if (previousAssessments.length > 0) {
          <div class="section-badge section-badge--muted">
            {{ previousAssessments.length }}
          </div>
        }
      </div>

      <div class="card-wrapper">
        @if (isLoading) {
          @for (skeleton of skeletonCards; track $index) {
            <app-card-skeleton></app-card-skeleton>
          }
        } @else {
          @for (assessment of previousAssessments; track assessment) {
            <app-card
              (startTest)="onAssessmentStart(assessment)"
              [statusId]="assessment.statusId"
              [isPreviousAssessment]="true"
              [interviewDate]="assessment.date"
              [buttonLabelFromBackend]="assessment.buttonLabel"
              [assessmentRound]="assessment.round"
            >
              <p>
                <b> Open position : </b
                ><span>{{ assessment.assessmentName }}</span>
              </p>
              <p><b>Mode : </b><span>Online</span></p>
              <p>
                <b> No. of Questions : </b>
                <span>{{ assessment.totalQuestions }}</span>
              </p>
              <p>
                <b> Scheduled Date : </b
                ><span>{{ getScheduledDate(assessment) }}</span>
              </p>
            </app-card>
          } @empty {
            <div class="empty-state empty-state--previous">
              <div class="empty-state-icon">
                <i class="pi pi-calendar-times"></i>
              </div>
              <h3 class="empty-state-title">No Previous Tests</h3>
              <p class="empty-state-message">
                You haven't completed any assessments yet. Once you take a test,
                it will appear here.
              </p>
            </div>
          }
        }
      </div>
    </section>
  </main>
</div>
