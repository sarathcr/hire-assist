<div class="candidate">
  <!-- Header Section with Action Bar -->
  <div class="candidate__header-section">
    <div class="candidate__header-content">
      <div class="candidate__header-text">
        <h2 class="candidate__title">
          <i class="pi pi-users"></i>
          Import & Schedule Candidates
        </h2>
        <p class="candidate__description">
          Import candidates from CSV, manage your candidate list, and schedule
          assessments
        </p>
      </div>
      <div class="candidate__header-actions">
        <app-button
          class="candidate__schedule-btn"
          tooltipPosition="top"
          [buttonLabel]="'Schedule Assessment'"
          [icon]="'pi pi-calendar-times'"
          [disabled]="disableScheduleButton"
          (btnClick)="scheduleAssessment()"
        ></app-button>
      </div>
    </div>
  </div>

  <!-- Action Toolbar -->
  <div class="candidate__toolbar">
    <div class="candidate__toolbar-group">
      <p-fileUpload
        [disabled]="importStatus || isUploading"
        mode="basic"
        accept=".csv"
        [maxFileSize]="1000000"
        label="Import CSV"
        chooseLabel="Import CSV"
        auto
        customUpload
        class="candidate__import-btn"
        [chooseButtonProps]="{ severity: 'secondary', icon: 'pi pi-upload' }"
        (uploadHandler)="onImport($event)"
      />
      <app-button
        class="candidate__action-btn"
        [disabled]="newStatus || isLoading"
        [buttonLabel]="'Add New'"
        [icon]="'pi pi-plus'"
        (btnClick)="addNewCandidate()"
      ></app-button>
    </div>
    <div class="candidate__toolbar-group">
      <app-button
        class="candidate__action-btn candidate__action-btn--danger"
        [buttonLabel]="'Delete Selected'"
        [buttonSeverity]="'danger'"
        [icon]="'pi pi-trash'"
        [disabled]="!selectedUsers || selectedUsers.length === 0"
        (btnClick)="deleteSelectedCandidates()"
      ></app-button>
      <app-button
        class="candidate__action-btn"
        [buttonLabel]="'Add to Batch'"
        [icon]="'pi pi-layer-group'"
        [disabled]="!selectedUsers || selectedUsers.length === 0"
        (btnClick)="createBatchSelectedCandidates()"
      ></app-button>
    </div>
  </div>

  <!-- Status Legend -->
  <div class="candidate__legend">
    <div class="candidate__legend-title">
      <i class="pi pi-info-circle"></i>
      <span>Status Indicators</span>
    </div>
    <div class="candidate__legend-items">
      <div class="candidate__legend-item candidate__legend-item--scheduled">
        <div class="candidate__legend-indicator"></div>
        <span class="candidate__legend-label">Scheduled</span>
        <span class="candidate__legend-description"
          >Candidate has been scheduled for assessment</span
        >
      </div>
      <div class="candidate__legend-item candidate__legend-item--unscheduled">
        <div class="candidate__legend-indicator"></div>
        <span class="candidate__legend-label">Not Scheduled</span>
        <span class="candidate__legend-description"
          >Candidate needs to be scheduled</span
        >
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="candidate__table-section">
    <app-table
      class="candidate-table"
      [tableData]="data"
      [columnsData]="columns"
      [hasSearch]="true"
      [parentLoader]="isLoading"
      [alreadySelected]="alreadySelectedCandidates"
      [enableCandidateStyling]="true"
      (delete)="deleteCandidate($event)"
      (selectedIds)="getSelectedItems($event)"
      (pageChangeAndSort)="onTablePayloadChange($event)"
      (view)="onView($event)"
    >
    </app-table>
  </div>

  <p-toast position="top-right" class="Toast"></p-toast>
</div>
